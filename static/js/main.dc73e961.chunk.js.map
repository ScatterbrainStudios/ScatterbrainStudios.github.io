{"version":3,"sources":["Penrose/vector_util.tsx","Penrose/penrose_class.tsx","Penrose/recurse_sketch.tsx","reportWebVitals.tsx","index.tsx"],"names":["vectorBetween","p5","a","b","createVector","x","y","vectorFromMagAndAngle","mag","angle","angleMode","DEGREES","cos","sin","lerp","v1","v2","amt","LEFT","RIGHT","ratio","Math","PI","opposite","side","Kite","point","vector","colors","tip","tail","center","Vector","pointFromLeftSide","pointFromRightSide","half","HalfKite","slowPointFromSide","copyVec","copy","rotate","add","pointFromSide","pointFromOtherSide","render","triangle","this","Dart","HalfDart","pointFromMidSide","kite","label","fade","subdivide","parentKite","babyKite","dart","myColor","fill","red","green","blue","parentDart","sidePoint","babyDart","Penrose","FRAME_RATE","depthToShapes","DEPTH","config","curTime","TIME_OFFSET","startFrame","backgroundHue","backgroundSaturation","backgroundLightness","getRandomInt","min","max","floor","random","setup","canvasRef","canvasHeight","window","innerHeight","document","getElementById","clientHeight","createCanvas","displayWidth","decideColors","frameRate","initializedData","windowResized","resizeCanvas","background","stroke","color","hslToRgb","width","height","halves","halfShapes","defineFirstSun","shapesAtDepth","draw","clear","strokeWeight","frameCount","shapes","length","i","shape","newVec","push","mult","arr","forEach","map","depth","Boolean","prevShapes","newDepth","subShape","hue","saturation","lightness","chroma","abs","huePrime","secondComponent","lightnessAdjustment","round","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","style","position","Card"],"mappings":"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","file":"static/js/main.dc73e961.chunk.js","sourcesContent":["import p5Types, { Vector } from \"p5\";\r\n\r\nexport function vectorBetween(p5: p5Types, a: Vector, b: Vector) {\r\n  return p5.createVector(b.x-a.x, b.y - a.y);\r\n}\r\n\r\nexport function midpoint(p5: p5Types, a: Vector, b: Vector): Vector {\r\n  return lerp(p5, a, b, 0.5);\r\n}\r\n\r\nexport function vectorFromMagAndAngle(p5: p5Types, mag: number, angle: number) {\r\n  p5.angleMode(p5.DEGREES)\r\n  const x = mag * p5.cos(angle);\r\n  const y = mag * p5.sin(angle);\r\n  return p5.createVector(x,y)\r\n}\r\n\r\nexport function lerp(p5: p5Types, v1: Vector, v2: Vector, amt: number) {\r\n  let x = ((v2.x - v1.x) * amt || 0) + v1.x;\r\n  let y = ((v2.y - v1.y) * amt || 0) + v1.y;\r\n  return p5.createVector(x,y);\r\n};","// http://archive.bridgesmathart.org/2017/bridges2017-213.pdf\r\nimport p5Types, { Vector, Color } from \"p5\";\r\nimport {vectorBetween, lerp} from \"./vector_util\"\r\n\r\nexport const LEFT = true;\r\nexport const RIGHT = false;\r\n\r\nconst ratio = 2*Math.sin(Math.PI/10);\r\n\r\nexport type Shape = Kite | Dart\r\nexport type HalfShape = HalfDart | HalfKite;\r\n\r\nfunction opposite(side: boolean) {\r\n  return !side;\r\n}\r\n\r\n\r\nexport class Kite{\r\n  tip: Vector;\r\n  tail: Vector;\r\n  center: Vector = new Vector();\r\n  private p5: p5Types;\r\n  private vector: Vector;\r\n  private pointFromLeftSide: Vector;\r\n  private pointFromRightSide: Vector;\r\n  private colors: {[i: number]: Color};\r\n  constructor(p5: p5Types, point: Vector, vector: Vector, colors: {[i: number]: Color}) {\r\n    this.p5 = p5;\r\n    this.tip = point;\r\n    this.colors = colors;\r\n    this.tail = Vector.add(point,vector);\r\n    this.vector = vector;\r\n    this.center = lerp(p5, this.tail, this.tip, ratio);\r\n    this.pointFromLeftSide = this.slowPointFromSide(LEFT);\r\n    this.pointFromRightSide = this.slowPointFromSide(RIGHT);\r\n  }\r\n  half = (side: boolean): HalfKite => {\r\n    return new HalfKite(this.p5,this,side,this.colors,1);\r\n  }\r\n  slowPointFromSide = (side: boolean) => {\r\n    const copyVec = this.vector.copy();\r\n    this.p5.angleMode(this.p5.DEGREES);\r\n    side === RIGHT ? copyVec.rotate(216) : copyVec.rotate(-216);\r\n    return copyVec.add(this.tail);\r\n  }\r\n  pointFromSide = (side: boolean) => {\r\n    return (side === RIGHT ? this.pointFromRightSide : this.pointFromLeftSide);\r\n  }\r\n  pointFromOtherSide = (side: boolean) => {\r\n    return this.pointFromSide(!side);\r\n  }\r\n  render = () => {\r\n    this.p5.triangle(this.tip.x,this.tip.y,this.tail.x,this.tail.y,this.pointFromSide(LEFT).x,this.pointFromSide(LEFT).y);\r\n    this.p5.triangle(this.tip.x,this.tip.y,this.tail.x,this.tail.y,this.pointFromSide(RIGHT).x,this.pointFromSide(RIGHT).y);\r\n  }\r\n}\r\nexport class Dart{\r\n  tip: Vector;\r\n  tail: Vector;\r\n  private p5: p5Types;\r\n  private vector: Vector;\r\n  private colors: {[i: number]: Color};\r\n  private pointFromLeftSide: Vector;\r\n  private pointFromRightSide: Vector;\r\n  constructor(p5: p5Types, point: Vector, vector: Vector, colors: {[i: number]: Color}) {\r\n    this.p5 = p5;\r\n    this.colors = colors;\r\n    this.tip = point;\r\n    this.tail = Vector.add(point,vector);\r\n    this.vector = vector;\r\n    this.pointFromLeftSide = this.slowPointFromSide(LEFT);\r\n    this.pointFromRightSide = this.slowPointFromSide(RIGHT);\r\n  }\r\n  half = (side: boolean): HalfDart => {\r\n    return new HalfDart(this.p5,this,side,this.colors,1);\r\n  }\r\n  slowPointFromSide = (side: boolean) => {\r\n    const copyVec = this.vector.copy();\r\n    this.p5.angleMode(this.p5.DEGREES);\r\n    side === RIGHT ? copyVec.rotate(72) : copyVec.rotate(-72);\r\n    return copyVec.add(this.tail);\r\n  }\r\n  pointFromSide = (side: boolean) => {\r\n    return (side === RIGHT ? this.pointFromRightSide : this.pointFromLeftSide);\r\n  }\r\n  pointFromMidSide = (side: boolean): Vector => {\r\n    return lerp(this.p5, this.tip,this.pointFromSide(side),ratio);\r\n  }\r\n  render = () => {\r\n    this.p5.triangle(this.tip.x,this.tip.y,this.tail.x,this.tail.y,this.pointFromSide(LEFT).x,this.pointFromSide(LEFT).y);\r\n    this.p5.triangle(this.tip.x,this.tip.y,this.tail.x,this.tail.y,this.pointFromSide(RIGHT).x,this.pointFromSide(RIGHT).y);\r\n  }\r\n}\r\n\r\nexport class HalfKite{\r\n  private fade = 0;\r\n  private p5: p5Types;\r\n  private kite: Kite;\r\n  private side: boolean;\r\n  private colors: {[id: number]: Color};\r\n  private label: number;\r\n  constructor(p5: p5Types, kite: Kite, side: boolean, colors: {[id: number]: Color}, label: number) {\r\n    this.p5 = p5;\r\n    this.kite = kite;\r\n    this.side = side;\r\n    this.colors = colors;\r\n    this.label = label;\r\n  }\r\n  subdivide = () => {\r\n    const parentKite = this.kite;\r\n    const babyKite = new Kite(this.p5,parentKite.center,vectorBetween(this.p5, parentKite.center,parentKite.pointFromSide(this.side)),this.colors);\r\n    const dart = new Dart(this.p5,parentKite.tail,vectorBetween(this.p5, parentKite.tail,babyKite.pointFromOtherSide(this.side)),this.colors);\r\n    return [new HalfKite(this.p5,babyKite,LEFT,this.colors,1), new HalfKite(this.p5,babyKite,RIGHT,this.colors,2), new HalfDart(this.p5,dart,opposite(this.side),this.colors,3)];\r\n  }\r\n  render = () => {\r\n    const myColor = this.colors[this.label];\r\n    this.p5.fill(this.p5.red(myColor), this.p5.green(myColor), this.p5.blue(myColor), this.fade);\r\n    const parentKite = this.kite;\r\n    const pointFromSide = parentKite.pointFromSide(this.side);\r\n    this.p5.triangle(parentKite.tip.x,parentKite.tip.y,pointFromSide.x,pointFromSide.y,parentKite.tail.x,parentKite.tail.y);\r\n    if(this.fade < 255) this.fade += 15;\r\n  }\r\n  tip = () => {\r\n    return this.kite.tip;\r\n  }\r\n}\r\nexport class HalfDart{\r\n  fade = 0;\r\n  private p5: p5Types;\r\n  private dart: Dart;\r\n  private side: boolean;\r\n  private colors: {[id: number]: Color};\r\n  private label: number;\r\n  constructor(p5: p5Types, dart: Dart, side: boolean, colors: {[id: number]: Color}, label: number) {\r\n    this.p5 = p5;\r\n    this.dart = dart;\r\n    this.side = side;\r\n    this.colors = colors;\r\n    this.label = label;\r\n  }\r\n  subdivide = () => {\r\n    const parentDart = this.dart;\r\n    const sidePoint = parentDart.pointFromSide(this.side);\r\n    const pointFromMidSide = parentDart.pointFromMidSide(this.side);\r\n    const babyKite = new Kite(this.p5,pointFromMidSide,vectorBetween(this.p5, pointFromMidSide,parentDart.tip),this.colors)\r\n    const babyDart = new Dart(this.p5,sidePoint,vectorBetween(this.p5, sidePoint,pointFromMidSide),this.colors);\r\n    return [new HalfKite(this.p5,babyKite,opposite(this.side),this.colors,4), new HalfDart(this.p5,babyDart,this.side,this.colors,5)]\r\n  }\r\n  render = () => {\r\n    const myColor = this.colors[this.label];\r\n    this.p5.fill(this.p5.red(myColor), this.p5.green(myColor), this.p5.blue(myColor), this.fade);\r\n    const parentDart = this.dart;\r\n    const pointFromSide = parentDart.pointFromSide(this.side);\r\n    this.p5.triangle(parentDart.tip.x, parentDart.tip.y, pointFromSide.x, pointFromSide.y, parentDart.tail.x, parentDart.tail.y);\r\n    if(this.fade < 255) this.fade += 15;\r\n  }\r\n  tip = () => {\r\n    return this.dart.tip;\r\n  }\r\n}\r\n","import {Kite, Shape, HalfShape, LEFT, RIGHT} from \"./penrose_class\";\r\nimport {vectorFromMagAndAngle} from \"./vector_util\"\r\n\r\nimport React from \"react\";\r\nimport p5Types, { Vector, Color } from \"p5\";\r\nimport Sketch from \"react-p5\";\r\n\r\nexport class Penrose extends React.Component{\r\n  private FRAME_RATE = 120;\r\n  private depthToShapes: {[i: number]: HalfShape[]} = {};\r\n  private DEPTH = 5;\r\n\r\n  private config: {[id: number]: p5Types.Color} = {};\r\n  private curTime: number = 0;\r\n  private TIME_OFFSET = 0;\r\n  private startFrame = 0;\r\n\r\n  private backgroundHue = 180;\r\n  private backgroundSaturation = 0;\r\n  private backgroundLightness = .5;\r\n\r\n  render(){\r\n    return (\r\n      <Sketch \r\n        setup={this.setup}\r\n        draw={this.draw}\r\n        windowResized={this.windowResized}\r\n      />\r\n    );\r\n  }\r\n\r\n  getRandomInt = (min: number, max: number) => {\r\n      return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n\r\n  setup = (p5: p5Types, canvasRef: Element) => {\r\n    var canvasHeight = Math.max(window.innerHeight, document.getElementById(\"root\")?.clientHeight || 0);\r\n    p5.createCanvas(p5.displayWidth, canvasHeight);\r\n\r\n    this.config = this.decideColors(p5);\r\n    \r\n    p5.frameRate(this.FRAME_RATE)\r\n\r\n    this.initializedData(p5);\r\n  }\r\n\r\n  windowResized = (p5: p5Types) => {\r\n    var canvasHeight = Math.max(window.innerHeight, document.getElementById(\"root\")?.clientHeight || 0);\r\n    \r\n    //this.startFrame = p5.frameCount;\r\n    this.depthToShapes = {};\r\n\r\n    this.initializedData(p5);\r\n\r\n    p5.resizeCanvas(p5.displayWidth, canvasHeight);\r\n  }\r\n\r\n  initializedData = (p5: p5Types) => {\r\n    p5.background('white');\r\n    this.backgroundHue = 180;\r\n    this.backgroundSaturation = 0;\r\n    this.backgroundLightness = .5;\r\n    p5.stroke(p5.color(this.hslToRgb(this.backgroundHue, this.backgroundSaturation, this.backgroundLightness)));\r\n    const center = p5.createVector(p5.width/2, p5.height/2);\r\n    const halves = this.halfShapes(this.defineFirstSun(p5,center,p5.width));\r\n    this.depthToShapes[0] = halves;\r\n    this.shapesAtDepth(this.depthToShapes, this.DEPTH)\r\n  }\r\n\r\n  draw = (p5: p5Types) => {\r\n    p5.clear();\r\n    p5.strokeWeight(0.5);\r\n    this.curTime = (p5.frameCount - this.startFrame) / this.FRAME_RATE;\r\n    const shapes = this.shapesAtDepth(this.depthToShapes,this.DEPTH)\r\n    const length = shapes.length;\r\n    for (let i = 0; i < length; i++) {\r\n      const shape = shapes[i];\r\n      const y = shape.tip().y / p5.height;\r\n      if (y < this.curTime-this.TIME_OFFSET) {\r\n        shape.render();\r\n      }\r\n\r\n      if(i === length - 1 && (y < this.curTime-this.TIME_OFFSET - 1)){\r\n        if(this.backgroundSaturation < 1){\r\n          this.backgroundSaturation += 0.01;\r\n        }else{\r\n          this.backgroundHue += 1;\r\n          this.backgroundHue %= 360;\r\n        }  \r\n        p5.stroke(p5.color(this.hslToRgb(this.backgroundHue, this.backgroundSaturation, this.backgroundLightness)));\r\n      }\r\n    }\r\n  }\r\n\r\n  defineFirstSun = (p5: p5Types, center: Vector, length: number) => {\r\n    p5.angleMode(p5.DEGREES);\r\n    const shapes = [];\r\n    for (let i = 1; i <= 5; i++) {\r\n      const angle = (360 / 5) * i;\r\n      const newVec = vectorFromMagAndAngle(p5, length,angle)\r\n      newVec.rotate(angle)\r\n      shapes.push(new Kite(p5, Vector.add(center,newVec), Vector.mult(newVec,-1),this.config));\r\n    }\r\n    return shapes;\r\n  }\r\n\r\n  halfShapes = (shapes: Shape[]): HalfShape[] => {\r\n    let arr: HalfShape[] = [];\r\n    shapes.forEach( (shape) => {\r\n      arr.push(shape.half(LEFT));\r\n      arr.push(shape.half(RIGHT));\r\n    })\r\n    return arr;\r\n  }\r\n\r\n  shapesAtDepth = (map: {[i: number]: HalfShape[]}, depth: number) => {\r\n    if (Boolean(map[depth])) return map[depth];\r\n    const prevShapes = this.shapesAtDepth(map,depth-1);\r\n    const newDepth: HalfShape[] = [];\r\n    prevShapes.forEach( (shape) => {\r\n      shape.subdivide().forEach( (subShape) => {\r\n        newDepth.push(subShape);\r\n      });\r\n    });\r\n    map[depth] = newDepth;\r\n    return newDepth;\r\n  }\r\n\r\n  decideColors = (p5: p5Types) => {\r\n    let colors: {[i: number]: Color} = {};\r\n    colors[1] = p5.color(this.hslToRgb(0, 1, 0));\r\n    colors[2] = p5.color(this.hslToRgb(0, 1, 0));\r\n    colors[3] = p5.color(this.hslToRgb(0, 1, 0));\r\n    colors[4] = p5.color(this.hslToRgb(0, 1, 0));\r\n    colors[5] = p5.color(this.hslToRgb(0, 1, 0));\r\n    return colors;\r\n  }\r\n\r\n  hslToRgb = (hue: number, saturation: number, lightness: number) => {\r\n    var chroma = (1 - Math.abs((2 * lightness) - 1)) * saturation;\r\n    var huePrime = hue / 60;\r\n    var secondComponent = chroma * (1 - Math.abs((huePrime % 2) - 1));\r\n\r\n    huePrime = Math.floor(huePrime);\r\n    var red: number = 0;\r\n    var green: number = 0;\r\n    var blue: number = 0;\r\n\r\n    if( huePrime === 0 ){\r\n      red = chroma;\r\n      green = secondComponent;\r\n      blue = 0;\r\n    }else if( huePrime === 1 ){\r\n      red = secondComponent;\r\n      green = chroma;\r\n      blue = 0;\r\n    }else if( huePrime === 2 ){\r\n      red = 0;\r\n      green = chroma;\r\n      blue = secondComponent;\r\n    }else if( huePrime === 3 ){\r\n      red = 0;\r\n      green = secondComponent;\r\n      blue = chroma;\r\n    }else if( huePrime === 4 ){\r\n      red = secondComponent;\r\n      green = 0;\r\n      blue = chroma;    \r\n    }else if( huePrime === 5 ){\r\n      red = chroma;\r\n      green = 0;\r\n      blue = secondComponent;\r\n    }\r\n\r\n    var lightnessAdjustment = lightness - (chroma / 2);\r\n    red += lightnessAdjustment;\r\n    green += lightnessAdjustment;\r\n    blue += lightnessAdjustment;\r\n\r\n    return [Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255)];\r\n\r\n  }\r\n\r\n  /*\r\n  function initializeColorSliders() {\r\n    let colors = {};\r\n    colorMode(HSB);\r\n\r\n    colors[1] = color(255, 100, 50);// getRandomInt(0,72), 50);\r\n    //colorMode(HSB);\r\n\r\n    colors[2] = color(150, 1, .5);//getRandomInt(72,144), 50);\r\n    //colorMode(HSB);\r\n\r\n    colors[3] = color(100, 1, .5);//getRandomInt(144,216), 50);\r\n    //colorMode(HSB);\r\n\r\n    colors[4] = color(50, 1, .5);//getRandomInt(216,288), 50);\r\n    //colorMode(HSB);\r\n\r\n    colors[5] = color(0, 1, .5);//getRandomInt(288,360), 50);\r\n    return colors;\r\n  }\r\n  */\r\n}","const reportWebVitals = (onPerfEntry?: any) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { Card } from '@material-ui/core';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { Penrose } from './Penrose/recurse_sketch';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <div style={{position: \"absolute\"}}>\r\n      <Penrose/>\r\n    </div>\r\n    \r\n    <Card style={{position: \"absolute\"}}>\r\n      Hello World\r\n    </Card>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}